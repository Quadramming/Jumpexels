<!DOCTYPE HTML>
<html>
	<head>
		<title>Time test</title>
		<meta charset='utf-8'/>
		
		<script type='text/javascript' src='../Time.js'></script>
		<script type='text/javascript'>
			//================================================================
			// Fake console
			//================================================================
			function docWrite(text) {
				var myBody = document.getElementsByTagName('body')[0];
				myBody.innerHTML = myBody.innerHTML + text;
			}

			function fakeConsole() {
				this.log = function(text) {
					docWrite('<i class="console">Console: '+text+'</i><br/>');
				};
			}
	
			var console = new fakeConsole;
			//================================================================
			
			function main() {
				var time = new Time;
				console.log(time.now() + ' - now timestamp<br>');
				for ( var i = 0; i < 3000000000; i++ );
				console.log('work<br>');
				var diffInSec = time.update();
				console.log(diffInSec + ' - delta seconds<br>');
				console.log(time.now() + ' - now timestamp<br>');
				for ( var i = 0; i < 1000000000; i++ );
				console.log('work<br>');
				console.log(time.now() + ' - same timestamp<br>');
			}
		</script>
	</head>
	<body onload='main()'>
	</body>
</html>
