<!DOCTYPE HTML>
<html>
	<head>
		<title>ImgManager test</title>
		<meta charset='utf-8'/>
		
		<script type='text/javascript' src='../ImgManager.js'></script>
		<script type='text/javascript'>
			
			//================================================================
			// Fake console
			//================================================================
			function docWrite(text) {
				var myBody = document.getElementsByTagName('body')[0];
				myBody.innerHTML = myBody.innerHTML + text;
			}

			function fakeConsole() {
				this.log = function(text) {
					docWrite('<i class="console">Console: '+text+'</i><br/>');
				};
			}
	
			var console = new fakeConsole;
			//================================================================
			
			var manager;
			
			function main() {
				manager = new QQ.ImgManager;
				startAnimation();
			}
			
			function startAnimation() {
				var img = manager.get('./test.jpg'); 
				if ( manager.isReady(img) ) {
					console.log('Ready');
				} else {
					console.log('Not ready');
					requestAnimationFrame(startAnimation);
				}
			}
		</script>
	</head>
	<body onload='main()'>
	</body>
</html>
